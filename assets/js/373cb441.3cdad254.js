(self.webpackChunkmirage_docs=self.webpackChunkmirage_docs||[]).push([[9597],{20426:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var r=a(87462),n=(a(67294),a(3905)),i=a(93456);const o={sidebar_position:1},s="Overview",l={unversionedId:"general/overview",id:"general/overview",title:"Overview",description:"Mirage is a high-level multiplayer library for Unity games. The goal is to make it as easy as possible to add multiplayer to your game.",source:"@site/docs/general/overview.md",sourceDirName:"general",slug:"/general/overview",permalink:"/Mirage/docs/general/overview",draft:!1,editUrl:"https://github.com/MirageNet/Mirage/tree/main/doc/docs/general/overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docs",previous:{title:"General",permalink:"/Mirage/docs/category/general"},next:{title:"Getting Started",permalink:"/Mirage/docs/general/getting-started"}},c={},d=[{value:"Socket Layer",id:"socket-layer",level:2},{value:"Message Layer",id:"message-layer",level:2},{value:"Object Layer",id:"object-layer",level:2},{value:"Host mode",id:"host-mode",level:2},{value:"Client / Server mode",id:"client--server-mode",level:2}],h={toc:d};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"overview"},"Overview"),(0,n.kt)("p",null,"Mirage is a high-level multiplayer library for Unity games. The goal is to make it as easy as possible to add multiplayer to your game."),(0,n.kt)("p",null,"Some of the key features of Mirage include:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Sending and receiving messages"),(0,n.kt)("li",{parentName:"ul"},"State synchronization"),(0,n.kt)("li",{parentName:"ul"},"Client/Server and host mode")),(0,n.kt)("p",null,"Mirage is made of 3 layers:"),(0,n.kt)(i.Mermaid,{config:{},chart:"graph TD;\n    Socket[Socket Layer]--\x3eMsg;\n    Msg[Message Layer]--\x3eObj;\n    Obj[Object Layer];",mdxType:"Mermaid"}),(0,n.kt)("h2",{id:"socket-layer"},"Socket Layer"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Socket Layer")," is concerned about sending and receiving bytes. It does not know what it is sending. There are several socket factory implementations. The default socket factory in Mirage is UDPSocketFactory. "),(0,n.kt)("p",null,"If you want to implement a socket factory, create a class that extends ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.SocketLayer.SocketFactory"),". Its primary responsibility is to send and receive data. You will also need to create a class that represents a link between Mirage and the outside world by implementing ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.SocketLayer.ISocket"),". Reliability is handled on top of the factory by Mirage."),(0,n.kt)("h2",{id:"message-layer"},"Message Layer"),(0,n.kt)("p",null,"The message layer is concerned with sending and receiving ",(0,n.kt)("a",{parentName:"p",href:"/docs/guides/remote-actions/network-messages"},"messages"),"."),(0,n.kt)("p",null,"If you wish to use this functionality, you will need to have a ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.NetworkClient")," in the client and a ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.NetworkServer")," for the server. These classes provide events you can subscribe to for the life cycle of connections. A connection is an implementation of ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.INetworkPlayer"),", and can send and receive messages. "),(0,n.kt)("h2",{id:"object-layer"},"Object Layer"),(0,n.kt)("p",null,"This layer is the highest level layer,  the classes in this layer are concerned about ",(0,n.kt)("a",{parentName:"p",href:"/docs/guides/sync/"},"synchronizing state")," between objects, as well as sending ",(0,n.kt)("a",{parentName:"p",href:"/docs/guides/remote-actions/"},"RPC calls"),"."),(0,n.kt)("p",null,"The client needs a ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.ClientObjectManager"),", the server needs a ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.ServerObjectManager"),". It will spawn and destroy objects and keep the objects in the client in sync with the objects in the server"),(0,n.kt)("h1",{id:"clients-and-servers"},"Clients and Servers"),(0,n.kt)("p",null,"Mirage supports 2 modes of operation which can work at the same time."),(0,n.kt)("h2",{id:"host-mode"},"Host mode"),(0,n.kt)("p",null,"In host mode,  the server and client are running in the same application and share all networked objects.\nThere is a direct in-memory channel of communication between the ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.NetworkServer")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"Mirage.NetworkClient"),".\nSince the objects are shared, there is no need to synchronize data. "),(0,n.kt)("p",null,"Note that the host mode bypasses the Transport Layer."),(0,n.kt)("h2",{id:"client--server-mode"},"Client / Server mode"),(0,n.kt)("p",null,"In this mode,  the client is connected to a separate server, which is normally in another machine and reachable through the network."),(0,n.kt)("p",null,"In client/server mode, the objects are duplicated in the server and client. For every networked object in the server, there is a corresponding object in the client with a matching network id."),(0,n.kt)("p",null,"Note a server can be in both host mode as well as a server for other clients."),(0,n.kt)(i.Mermaid,{chart:'graph LR;\n    subgraph host["Host"]\n        Client["Local Client"] --- Server\n    end\n    Server --- Client1\n    Server --- Client2\n    Server --- Client3',mdxType:"Mermaid"}))}p.isMDXComponent=!0},11748:(e,t,a)=>{var r={"./locale":89234,"./locale.js":89234};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=11748}}]);