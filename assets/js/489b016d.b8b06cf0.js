"use strict";(self.webpackChunkmirage_docs=self.webpackChunkmirage_docs||[]).push([[6076],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=i,h=u["".concat(o,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},36666:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(87462),i=(n(67294),n(3905));const r={},l="Multiple Additive Scenes Example",s={unversionedId:"examples/multiple-additive-scenes",id:"examples/multiple-additive-scenes",title:"Multiple Additive Scenes Example",description:"In Build Settings, remove all scenes and add both of the scenes from the Scenes folder in the following order:",source:"@site/docs/examples/multiple-additive-scenes.md",sourceDirName:"examples",slug:"/examples/multiple-additive-scenes",permalink:"/Mirage/docs/examples/multiple-additive-scenes",draft:!1,editUrl:"https://github.com/MirageNet/Mirage/tree/main/doc/docs/examples/multiple-additive-scenes.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Configurable NetworkManager Example",permalink:"/Mirage/docs/examples/configurable-network-manager"},next:{title:"Pong",permalink:"/Mirage/docs/examples/pong"}},o={},c=[{value:"MultiScene Network Manager",id:"multiscene-network-manager",level:2},{value:"Playing in the Instances",id:"playing-in-the-instances",level:2}],p={toc:c};function d(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"multiple-additive-scenes-example"},"Multiple Additive Scenes Example"),(0,i.kt)("p",null,"In Build Settings, remove all scenes and add both of the scenes from the Scenes folder in the following order:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Main"),(0,i.kt)("li",{parentName:"ul"},"Game")),(0,i.kt)("p",null,"Open the Main scene in the Editor and make sure the Game Scene field in the MultiScene Network Manager on the Network scene object contains the Game scene. This is already set up by default, but if the Main scene was opened and saved before putting the scenes in the Build Settings list, the Game Scene field may be cleared accidentally."),(0,i.kt)("h2",{id:"multiscene-network-manager"},"MultiScene Network Manager"),(0,i.kt)("p",null,"The MultiScene Network Manager is derived from the base Network Manager and is responsible for additively loading the sub-scene instances and placing the players in their respective sub-scene instances and initializing player SyncVars. It has a Game Scene field where the Game sub-scene is assigned, and an Instances field to set how many instances are loaded on the server."),(0,i.kt)("p",null,"In this example, the sub-scene instances are additively loaded on the server with ",(0,i.kt)("inlineCode",{parentName:"p"},"localPhysicsMode = LocalPhysicsMode.Physics3D"),". Physics sub-scenes do not auto-simulate, so each scene has a game object with a generic ",(0,i.kt)("inlineCode",{parentName:"p"},"PhysicsSimulator")," script on it. This script does nothing on the client, only on the server."),(0,i.kt)("p",null,"Clients only ever have one instance of the sub-scene additively loaded (without ",(0,i.kt)("inlineCode",{parentName:"p"},"localPhysicsMode"),"), while the server has them all. All networked objects have a ",(0,i.kt)("inlineCode",{parentName:"p"},"NetworkSceneChecker")," component which is what isolates them to their specific sub-scene."),(0,i.kt)("h2",{id:"playing-in-the-instances"},"Playing in the Instances"),(0,i.kt)("p",null,"File -",">"," Build and Run"),(0,i.kt)("p",null,"Start at least 3 built instances: These will all be client players."),(0,i.kt)("p",null,"Press Play in the Editor and click Host (Server + Client) in the HUD - This will be the host and the 1st player. You can also use Server Only if you prefer."),(0,i.kt)("p",null,"Click Client in the built instances."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"WASDQE keys to move & turn your player capsule, Space to jump.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Colliding with the small colored spheres scores points based on their color.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Colliding with the larger tumblers sends them rolling around...they're server-side non-kinematic rigidbodies.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Only scores for the players in the same sub-scene are shown at the top of the game window."))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"MultiScene Network Manager",src:n(28029).Z,width:"538",height:"567"})))}d.isMDXComponent=!0},28029:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/MultiSceneNetworkManager-32aa41d8dadce8ae5456ba09f642c656.PNG"}}]);